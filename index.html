<!DOCTYPE html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My GPT Integration Experiment</title>
</head>
<body>
    <h1>Chat with GPT</h1>
    <div id="chat">
        <div id="messages"></div>
        <input type="text" id="user-input" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
    </div>

    <script>
        async function sendMessage() {
            const userInput = document.getElementById('user-input').value;
            document.getElementById('messages').innerHTML += `<p><strong>You:</strong> ${userInput}</p>`;

            // Clear input field
            document.getElementById('user-input').value = '';

            try {
                // Fetch response from GPT API
                const response = await fetch("https://api.openai.com/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer 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`
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: [{ role: "user", content: userInput }],
                    })
                });

                // Check if the response is ok (status 200-299)
                if (!response.ok) {
                    throw new Error(`Error: ${response.status} - ${response.statusText}`);
                }

                const data = await response.json();

                // Check if the API response has the expected format
                if (data.choices && data.choices[0] && data.choices[0].message && data.choices[0].message.content) {
                    const botReply = data.choices[0].message.content;
                    // Display GPT response
                    document.getElementById('messages').innerHTML += `<p><strong>GPT:</strong> ${botReply}</p>`;
                } else {
                    throw new Error("Unexpected API response format.");
                }
            } catch (error) {
                // Display error message
                document.getElementById('messages').innerHTML += `<p><strong>Error:</strong> ${error.message}</p>`;
                console.error(error);
            }
        }
    </script>
</body>
</html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPT Integration</title>
</head>
<body>
    <h1>Chat with GPT</h1>
    <div id="chat">
        <div id="messages"></div>
        <input type="text" id="user-input" placeholder="Type your message...">
        <button onclick="sendMessage()">Send</button>
    </div>

    <script>
        async function sendMessage() {
            const userInput = document.getElementById('user-input').value;
            document.getElementById('messages').innerHTML += `<p><strong>You:</strong> ${userInput}</p>`;

            // Clear input field
            document.getElementById('user-input').value = '';

            try {
                // Fetch response from GPT API
                const response = await fetch("https://api.openai.com/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer 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`
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: [{ role: "user", content: userInput }],
                    })
                });

                // Check if the response is ok (status 200-299)
                if (!response.ok) {
                    throw new Error(`Error: ${response.status} - ${response.statusText}`);
                }

                const data = await response.json();

                // Check if the API response has the expected format
                if (data.choices && data.choices[0] && data.choices[0].message && data.choices[0].message.content) {
                    const botReply = data.choices[0].message.content;
                    // Display GPT response
                    document.getElementById('messages').innerHTML += `<p><strong>GPT:</strong> ${botReply}</p>`;
                } else {
                    throw new Error("Unexpected API response format.");
                }
            } catch (error) {
                // Display error message
                document.getElementById('messages').innerHTML += `<p><strong>Error:</strong> ${error.message}</p>`;
                console.error(error);
            }
        }
    </script>
</body>
</html>
